<!doctype html>
<html class="reftest-wait">

<math style="font-size:25px; position: absolute; top: 10px; left:10px;">
  <mrow id="outer">
    <mo>(</mo>
    <mrow>
      <mn id="a" style="visibility:hidden;">a</mn>
      <mo>&amp;</mo>
      <mn id="c" style="visibility:hidden;">c</mn>
      </mrow>
    <mo>)</mo>
  </mrow>
</math>





<div id="div" style="position: absolute; background:black; top: 0px;
                     height: 120px;"></div>

<script>
  function doTest()
  {
    a = document.getElementById("a");
    c = document.getElementById("c");
    div = document.getElementById("div");
    outer = document.getElementById("outer");

    left = a.getBoundingClientRect().left;  // div's left
    div.style.left = left + 'px';
    div.style.width = (c.getBoundingClientRect().right - left ) + 'px';

    document.documentElement.removeAttribute("class");
   }
   window.addEventListener("MozReftestInvalidate", doTest, false);
</script>

</html>
