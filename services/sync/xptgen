#!/bin/bash -x

if [[ ! -d $MOZOBJDIR ]]; then
    echo "MOZOBJDIR environment variable must point to a Mozilla build obj tree (with xptgen)"
    exit 1
fi
if [[ ! -d $MOZSRCDIR ]]; then
    echo "MOZSRCDIR environment variable must point to a Mozilla source tree"
    exit 1
fi

$MOZOBJDIR/dist/bin/xpidl -m typelib -I $MOZSRCDIR/xpcom/base/ -o IBookmarksSyncService IBookmarksSyncService.idl
$MOZOBJDIR/dist/bin/xpidl -m typelib -I $MOZSRCDIR/xpcom/base/ -o ILog4MozService ILog4MozService.idl
