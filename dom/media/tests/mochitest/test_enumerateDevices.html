<!DOCTYPE HTML>
<html>
<head>
  <script src="mediaStreamPlayback.js"></script>
</head>
<body>
<pre id="test">
<script type="application/javascript">
createHTML({ title: "Run enumerateDevices code", bug: "1046245" });
/**
  Tests covering enumerateDevices API. Exercise code.
*/

runTest(() => navigator.mediaDevices.enumerateDevices()
  .then(devices => {
    ok(devices.length > 0, "At least one device found");
    devices.forEach(d => {
      ok(d.kind == "videoinput" || d.kind == "audioinput", "Known device kind");
      is(d.deviceId.length, 44, "Correct device id length");
      ok(d.label.length !== undefined, "Device label: " + d.label);
      is(d.groupId, "", "Don't support groupId yet");
    });
  }));

</script>
</pre>
</body>
</html>
