# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

DEPTH            := @DEPTH@
topsrcdir        := @top_srcdir@
srcdir           := @srcdir@
VPATH            := @srcdir@

include $(DEPTH)/config/autoconf.mk
include $(topsrcdir)/dom/dom-config.mk

VPATH += \
  $(srcdir)/test \
  $(NULL)

LIBRARY_NAME   := gkconwebspeechrecognition_s
LIBXUL_LIBRARY := 1

LOCAL_INCLUDES += $(VPATH:%=-I%)

CPPSRCS := \
  EnableWebSpeechRecognitionCheck.cpp \
  SpeechGrammar.cpp \
  SpeechGrammarList.cpp \
  SpeechRecognitionAlternative.cpp \
  SpeechRecognition.cpp \
  SpeechRecognitionResult.cpp \
  SpeechRecognitionResultList.cpp \
  SpeechStreamListener.cpp \
  endpointer.cc \
  energy_endpointer.cc \
  energy_endpointer_params.cc \
  FakeSpeechRecognitionService.cpp \
  $(NULL)

EXPORTS_NAMESPACES := mozilla/dom
EXPORTS_mozilla/dom := \
  FakeSpeechRecognitionService.h \
  SpeechGrammar.h \
  SpeechGrammarList.h \
  SpeechRecognitionAlternative.h \
  SpeechRecognition.h \
  SpeechRecognitionResult.h \
  SpeechRecognitionResultList.h \
  SpeechStreamListener.h \
  $(NULL)

FORCE_STATIC_LIB := 1

include $(topsrcdir)/config/config.mk
include $(topsrcdir)/ipc/chromium/chromium-config.mk
include $(topsrcdir)/config/rules.mk
